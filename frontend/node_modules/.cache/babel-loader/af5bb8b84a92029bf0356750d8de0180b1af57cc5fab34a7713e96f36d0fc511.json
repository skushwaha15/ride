{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sejal\\\\OneDrive\\\\Desktop\\\\ride\\\\frontend\\\\src\\\\components\\\\FreeMap.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { useMap } from \"react-leaflet\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ChangeView({\n  center,\n  bounds\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (bounds) {\n      map.fitBounds(bounds, {\n        padding: [50, 50]\n      });\n    } else if (center) {\n      map.setView(center, 13);\n    }\n  }, [center, bounds, map]);\n  return null;\n}\n\n// Fix for default markers\n_s(ChangeView, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = ChangeView;\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\"\n});\n\n// Custom marker icons\nconst greenIcon = new L.Icon({\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\nconst redIcon = new L.Icon({\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\n\n// Function to fetch route from multiple providers\nasync function fetchRoute(start, end, setFare, setRouteGeometry, setDistance, setDuration) {\n  try {\n    console.log(\"Fetching route from:\", start, \"to:\", end);\n\n    // Try OSRM first\n    try {\n      const osrmUrl = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\n      const response = await fetch(osrmUrl, {\n        mode: 'cors',\n        headers: {\n          'Accept': 'application/json'\n        }\n      });\n      if (response.ok) {\n        const data = await response.json();\n        if (data.routes && data.routes.length > 0) {\n          const route = data.routes[0];\n          const distanceInKm = route.distance / 1000;\n          const durationInMin = Math.round(route.duration / 60);\n          const fare = Math.round(distanceInKm * 10);\n          console.log(\"OSRM Route found:\", distanceInKm, \"km\");\n          setFare(fare);\n          setDistance(distanceInKm);\n          setDuration(durationInMin);\n          const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\n          setRouteGeometry(coordinates);\n          return;\n        }\n      }\n    } catch (osrmError) {\n      console.log(\"OSRM failed, trying alternative...\", osrmError);\n    }\n\n    // Try GraphHopper as alternative (public demo endpoint)\n    try {\n      // Use start and end parameters correctly\n      const graphHopperUrl = `https://graphhopper.com/api/1/route?point=${start.lat},${start.lng}&point=${end.lat},${end.lng}&vehicle=car&locale=en&key=2b3f4b5c-4b5c-4b5c-4b5c-2b3f4b5c4b5c&points_encoded=false`;\n      const response = await fetch(graphHopperUrl);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.paths && data.paths.length > 0) {\n          const route = data.paths[0];\n          const distanceInKm = route.distance / 1000;\n          const durationInMin = Math.round(route.time / 60000); // Convert ms to minutes\n          const fare = Math.round(distanceInKm * 10);\n          console.log(\"GraphHopper route found:\", distanceInKm, \"km\");\n          setFare(fare);\n          setDistance(distanceInKm);\n          setDuration(durationInMin);\n\n          // GraphHopper returns coordinates as [lng, lat] in points.coordinates\n          const coordinates = route.points.coordinates.map(coord => [coord[1], coord[0]]);\n          setRouteGeometry(coordinates);\n          return;\n        }\n      }\n    } catch (graphHopperError) {\n      console.log(\"GraphHopper failed\", graphHopperError);\n    }\n\n    // Try OpenRouteService as another alternative (free tier)\n    try {\n      const orsUrl = `https://api.openrouteservice.org/v2/directions/driving-car?api_key=5b3ce3597851110001cf6248c0b8f9a7f5d44f5d9a7f5d44f5d9a7f5&start=${start.lng},${start.lat}&end=${end.lng},${end.lat}`;\n      const response = await fetch(orsUrl);\n      if (response.ok) {\n        const data = await response.json();\n        if (data.features && data.features.length > 0) {\n          const route = data.features[0];\n          const distanceInKm = route.properties.summary.distance / 1000;\n          const durationInMin = Math.round(route.properties.summary.duration / 60);\n          const fare = Math.round(distanceInKm * 10);\n          console.log(\"OpenRouteService route found:\", distanceInKm, \"km\");\n          setFare(fare);\n          setDistance(distanceInKm);\n          setDuration(durationInMin);\n          const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\n          setRouteGeometry(coordinates);\n          return;\n        }\n      }\n    } catch (orsError) {\n      console.log(\"OpenRouteService failed\", orsError);\n    }\n\n    // If all routing services fail, draw a straight line and estimate\n    console.log(\"Using straight line approximation\");\n    const distanceInKm = calculateDistance(start.lat, start.lng, end.lat, end.lng);\n    const durationInMin = Math.round(distanceInKm * 2); // Rough estimate: 2 min per km\n    const fare = Math.round(distanceInKm * 10);\n    setFare(fare);\n    setDistance(distanceInKm);\n    setDuration(durationInMin);\n\n    // Draw a straight line\n    setRouteGeometry([[start.lat, start.lng], [end.lat, end.lng]]);\n  } catch (error) {\n    console.error(\"All routing services failed:\", error);\n\n    // Fallback to straight line\n    const distanceInKm = calculateDistance(start.lat, start.lng, end.lat, end.lng);\n    const fare = Math.round(distanceInKm * 10);\n    setFare(fare);\n    setDistance(distanceInKm);\n    setRouteGeometry([[start.lat, start.lng], [end.lat, end.lng]]);\n  }\n}\n\n// Calculate straight line distance (Haversine formula)\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\n  const R = 6371; // Earth's radius in km\n  const dLat = (lat2 - lat1) * Math.PI / 180;\n  const dLon = (lon2 - lon1) * Math.PI / 180;\n  const a = Math.sin(dLat / 2) * Math.sin(dLat / 2) + Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * Math.sin(dLon / 2) * Math.sin(dLon / 2);\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1 - a));\n  return R * c;\n}\nfunction FreeMap({\n  setFare,\n  pickupLocation,\n  dropLocation\n}) {\n  _s2();\n  const [pickup, setPickup] = useState(null);\n  const [drop, setDrop] = useState(null);\n  const [routeGeometry, setRouteGeometry] = useState([]);\n  const [distance, setDistance] = useState(null);\n  const [duration, setDuration] = useState(null);\n  const [mapBounds, setMapBounds] = useState(null);\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState(null);\n\n  // Handle when locations are passed from Home\n  useEffect(() => {\n    const loadRouteFromProps = async () => {\n      if (pickupLocation && dropLocation) {\n        console.log(\"Loading route for:\", pickupLocation, dropLocation);\n        setPickup(pickupLocation);\n        setDrop(dropLocation);\n        setLoading(true);\n        setError(null);\n\n        // Calculate bounds to show both markers\n        const bounds = L.latLngBounds([pickupLocation.lat, pickupLocation.lng], [dropLocation.lat, dropLocation.lng]);\n        setMapBounds(bounds);\n\n        // Fetch the route\n        await fetchRoute(pickupLocation, dropLocation, setFare, setRouteGeometry, setDistance, setDuration);\n        setLoading(false);\n      }\n    };\n    loadRouteFromProps();\n  }, [pickupLocation, dropLocation, setFare]);\n  const resetSelection = () => {\n    setPickup(null);\n    setDrop(null);\n    setRouteGeometry([]);\n    setDistance(null);\n    setDuration(null);\n    setMapBounds(null);\n    setError(null);\n    setFare(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '100%',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: pickup || [20.5937, 78.9629],\n      zoom: 12,\n      style: {\n        height: \"100%\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 261,\n        columnNumber: 9\n      }, this), pickup && drop && /*#__PURE__*/_jsxDEV(ChangeView, {\n        bounds: mapBounds\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 266,\n        columnNumber: 28\n      }, this), pickup && !drop && /*#__PURE__*/_jsxDEV(ChangeView, {\n        center: [pickup.lat, pickup.lng]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 267,\n        columnNumber: 29\n      }, this), routeGeometry.length > 0 && /*#__PURE__*/_jsxDEV(Polyline, {\n        positions: routeGeometry,\n        color: \"#4CAF50\",\n        weight: 5,\n        opacity: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 271,\n        columnNumber: 11\n      }, this), pickup && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [pickup.lat, pickup.lng],\n        icon: greenIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Pickup Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 283,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 284,\n            columnNumber: 15\n          }, this), \"Lat: \", pickup.lat.toFixed(4), \", Lng: \", pickup.lng.toFixed(4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 282,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 281,\n        columnNumber: 11\n      }, this), drop && /*#__PURE__*/_jsxDEV(Marker, {\n        position: [drop.lat, drop.lng],\n        icon: redIcon,\n        children: /*#__PURE__*/_jsxDEV(Popup, {\n          children: [/*#__PURE__*/_jsxDEV(\"b\", {\n            children: \"Drop Location\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 294,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 295,\n            columnNumber: 15\n          }, this), \"Lat: \", drop.lat.toFixed(4), \", Lng: \", drop.lng.toFixed(4)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 293,\n          columnNumber: 13\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 292,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 7\n    }, this), (pickup || drop) && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '10px',\n        left: '10px',\n        background: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        zIndex: 1000,\n        minWidth: '250px',\n        maxWidth: '300px'\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 10px 0',\n          color: '#333'\n        },\n        children: \"\\uD83D\\uDCCD Trip Details\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 316,\n        columnNumber: 11\n      }, this), pickup && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0',\n          color: '#4CAF50',\n          fontSize: '0.9rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Pickup:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 320,\n          columnNumber: 15\n        }, this), \" \", pickup.lat.toFixed(4), \", \", pickup.lng.toFixed(4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 319,\n        columnNumber: 13\n      }, this), drop && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0',\n          color: '#f44336',\n          fontSize: '0.9rem'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n          children: \"Drop:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 326,\n          columnNumber: 15\n        }, this), \" \", drop.lat.toFixed(4), \", \", drop.lng.toFixed(4)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 325,\n        columnNumber: 13\n      }, this), loading && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '10px 0',\n          color: '#666'\n        },\n        children: \"\\uD83D\\uDDFA\\uFE0F Calculating best route...\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 331,\n        columnNumber: 13\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '10px 0',\n          color: '#f44336'\n        },\n        children: [\"\\u26A0\\uFE0F \", error]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 337,\n        columnNumber: 13\n      }, this), distance && !loading && /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: [/*#__PURE__*/_jsxDEV(\"hr\", {\n          style: {\n            margin: '10px 0'\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 344,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '5px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\uD83D\\uDCCF Distance:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 346,\n            columnNumber: 17\n          }, this), \" \", distance.toFixed(2), \" km\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 345,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '5px 0'\n          },\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"\\u23F1\\uFE0F Duration:\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 349,\n            columnNumber: 17\n          }, this), \" \", duration, \" mins\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 348,\n          columnNumber: 15\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '10px 0 0 0',\n            fontSize: '1.3rem',\n            color: '#4CAF50',\n            fontWeight: 'bold'\n          },\n          children: [\"\\u20B9\", Math.round(distance * 10)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 351,\n          columnNumber: 15\n        }, this), routeGeometry.length === 2 && /*#__PURE__*/_jsxDEV(\"p\", {\n          style: {\n            margin: '5px 0',\n            fontSize: '0.8rem',\n            color: '#999'\n          },\n          children: \"*Straight line estimate (road route unavailable)\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 360,\n          columnNumber: 17\n        }, this)]\n      }, void 0, true), (pickup || drop) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetSelection,\n        style: {\n          marginTop: '15px',\n          padding: '8px',\n          background: '#f44336',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer',\n          width: '100%',\n          fontWeight: '500'\n        }\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 368,\n        columnNumber: 13\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 255,\n    columnNumber: 5\n  }, this);\n}\n_s2(FreeMap, \"AhZ/nudFwn541OPivulcgukoOB4=\");\n_c2 = FreeMap;\nexport default FreeMap;\nvar _c, _c2;\n$RefreshReg$(_c, \"ChangeView\");\n$RefreshReg$(_c2, \"FreeMap\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","Polyline","L","useMap","jsxDEV","_jsxDEV","Fragment","_Fragment","ChangeView","center","bounds","_s","map","fitBounds","padding","setView","_c","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","greenIcon","iconSize","iconAnchor","popupAnchor","shadowSize","redIcon","fetchRoute","start","end","setFare","setRouteGeometry","setDistance","setDuration","console","log","osrmUrl","lng","lat","response","fetch","mode","headers","ok","data","json","routes","length","route","distanceInKm","distance","durationInMin","Math","round","duration","fare","coordinates","geometry","coord","osrmError","graphHopperUrl","paths","time","points","graphHopperError","orsUrl","features","properties","summary","orsError","calculateDistance","error","lat1","lon1","lat2","lon2","R","dLat","PI","dLon","a","sin","cos","c","atan2","sqrt","FreeMap","pickupLocation","dropLocation","_s2","pickup","setPickup","drop","setDrop","routeGeometry","mapBounds","setMapBounds","loading","setLoading","setError","loadRouteFromProps","latLngBounds","resetSelection","style","position","height","width","children","zoom","url","attribution","fileName","_jsxFileName","lineNumber","columnNumber","positions","color","weight","opacity","icon","toFixed","top","left","background","borderRadius","boxShadow","zIndex","minWidth","maxWidth","margin","fontSize","fontWeight","onClick","marginTop","border","cursor","_c2","$RefreshReg$"],"sources":["C:/Users/sejal/OneDrive/Desktop/ride/frontend/src/components/FreeMap.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, Polyline } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { useMap } from \"react-leaflet\";\r\n\r\nfunction ChangeView({ center, bounds }) {\r\n  const map = useMap();\r\n  \r\n  useEffect(() => {\r\n    if (bounds) {\r\n      map.fitBounds(bounds, { padding: [50, 50] });\r\n    } else if (center) {\r\n      map.setView(center, 13);\r\n    }\r\n  }, [center, bounds, map]);\r\n  \r\n  return null;\r\n}\r\n\r\n// Fix for default markers\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n});\r\n\r\n// Custom marker icons\r\nconst greenIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\nconst redIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n// Function to fetch route from multiple providers\r\nasync function fetchRoute(start, end, setFare, setRouteGeometry, setDistance, setDuration) {\r\n  try {\r\n    console.log(\"Fetching route from:\", start, \"to:\", end);\r\n    \r\n    // Try OSRM first\r\n    try {\r\n      const osrmUrl = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\r\n      \r\n      const response = await fetch(osrmUrl, {\r\n        mode: 'cors',\r\n        headers: {\r\n          'Accept': 'application/json'\r\n        }\r\n      });\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        if (data.routes && data.routes.length > 0) {\r\n          const route = data.routes[0];\r\n          const distanceInKm = route.distance / 1000;\r\n          const durationInMin = Math.round(route.duration / 60);\r\n          const fare = Math.round(distanceInKm * 10);\r\n          \r\n          console.log(\"OSRM Route found:\", distanceInKm, \"km\");\r\n          \r\n          setFare(fare);\r\n          setDistance(distanceInKm);\r\n          setDuration(durationInMin);\r\n          \r\n          const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\r\n          setRouteGeometry(coordinates);\r\n          \r\n          return;\r\n        }\r\n      }\r\n    } catch (osrmError) {\r\n      console.log(\"OSRM failed, trying alternative...\", osrmError);\r\n    }\r\n    \r\n    // Try GraphHopper as alternative (public demo endpoint)\r\n    try {\r\n      // Use start and end parameters correctly\r\n      const graphHopperUrl = `https://graphhopper.com/api/1/route?point=${start.lat},${start.lng}&point=${end.lat},${end.lng}&vehicle=car&locale=en&key=2b3f4b5c-4b5c-4b5c-4b5c-2b3f4b5c4b5c&points_encoded=false`;\r\n      \r\n      const response = await fetch(graphHopperUrl);\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        if (data.paths && data.paths.length > 0) {\r\n          const route = data.paths[0];\r\n          const distanceInKm = route.distance / 1000;\r\n          const durationInMin = Math.round(route.time / 60000); // Convert ms to minutes\r\n          const fare = Math.round(distanceInKm * 10);\r\n          \r\n          console.log(\"GraphHopper route found:\", distanceInKm, \"km\");\r\n          \r\n          setFare(fare);\r\n          setDistance(distanceInKm);\r\n          setDuration(durationInMin);\r\n          \r\n          // GraphHopper returns coordinates as [lng, lat] in points.coordinates\r\n          const coordinates = route.points.coordinates.map(coord => [coord[1], coord[0]]);\r\n          setRouteGeometry(coordinates);\r\n          \r\n          return;\r\n        }\r\n      }\r\n    } catch (graphHopperError) {\r\n      console.log(\"GraphHopper failed\", graphHopperError);\r\n    }\r\n    \r\n    // Try OpenRouteService as another alternative (free tier)\r\n    try {\r\n      const orsUrl = `https://api.openrouteservice.org/v2/directions/driving-car?api_key=5b3ce3597851110001cf6248c0b8f9a7f5d44f5d9a7f5d44f5d9a7f5&start=${start.lng},${start.lat}&end=${end.lng},${end.lat}`;\r\n      \r\n      const response = await fetch(orsUrl);\r\n      \r\n      if (response.ok) {\r\n        const data = await response.json();\r\n        \r\n        if (data.features && data.features.length > 0) {\r\n          const route = data.features[0];\r\n          const distanceInKm = route.properties.summary.distance / 1000;\r\n          const durationInMin = Math.round(route.properties.summary.duration / 60);\r\n          const fare = Math.round(distanceInKm * 10);\r\n          \r\n          console.log(\"OpenRouteService route found:\", distanceInKm, \"km\");\r\n          \r\n          setFare(fare);\r\n          setDistance(distanceInKm);\r\n          setDuration(durationInMin);\r\n          \r\n          const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\r\n          setRouteGeometry(coordinates);\r\n          \r\n          return;\r\n        }\r\n      }\r\n    } catch (orsError) {\r\n      console.log(\"OpenRouteService failed\", orsError);\r\n    }\r\n    \r\n    // If all routing services fail, draw a straight line and estimate\r\n    console.log(\"Using straight line approximation\");\r\n    const distanceInKm = calculateDistance(start.lat, start.lng, end.lat, end.lng);\r\n    const durationInMin = Math.round(distanceInKm * 2); // Rough estimate: 2 min per km\r\n    const fare = Math.round(distanceInKm * 10);\r\n    \r\n    setFare(fare);\r\n    setDistance(distanceInKm);\r\n    setDuration(durationInMin);\r\n    \r\n    // Draw a straight line\r\n    setRouteGeometry([\r\n      [start.lat, start.lng],\r\n      [end.lat, end.lng]\r\n    ]);\r\n    \r\n  } catch (error) {\r\n    console.error(\"All routing services failed:\", error);\r\n    \r\n    // Fallback to straight line\r\n    const distanceInKm = calculateDistance(start.lat, start.lng, end.lat, end.lng);\r\n    const fare = Math.round(distanceInKm * 10);\r\n    \r\n    setFare(fare);\r\n    setDistance(distanceInKm);\r\n    setRouteGeometry([\r\n      [start.lat, start.lng],\r\n      [end.lat, end.lng]\r\n    ]);\r\n  }\r\n}\r\n\r\n// Calculate straight line distance (Haversine formula)\r\nfunction calculateDistance(lat1, lon1, lat2, lon2) {\r\n  const R = 6371; // Earth's radius in km\r\n  const dLat = (lat2 - lat1) * Math.PI / 180;\r\n  const dLon = (lon2 - lon1) * Math.PI / 180;\r\n  const a = \r\n    Math.sin(dLat/2) * Math.sin(dLat/2) +\r\n    Math.cos(lat1 * Math.PI / 180) * Math.cos(lat2 * Math.PI / 180) * \r\n    Math.sin(dLon/2) * Math.sin(dLon/2);\r\n  const c = 2 * Math.atan2(Math.sqrt(a), Math.sqrt(1-a));\r\n  return R * c;\r\n}\r\n\r\nfunction FreeMap({ setFare, pickupLocation, dropLocation }) {\r\n  const [pickup, setPickup] = useState(null);\r\n  const [drop, setDrop] = useState(null);\r\n  const [routeGeometry, setRouteGeometry] = useState([]);\r\n  const [distance, setDistance] = useState(null);\r\n  const [duration, setDuration] = useState(null);\r\n  const [mapBounds, setMapBounds] = useState(null);\r\n  const [loading, setLoading] = useState(false);\r\n  const [error, setError] = useState(null);\r\n\r\n  // Handle when locations are passed from Home\r\n  useEffect(() => {\r\n    const loadRouteFromProps = async () => {\r\n      if (pickupLocation && dropLocation) {\r\n        console.log(\"Loading route for:\", pickupLocation, dropLocation);\r\n        \r\n        setPickup(pickupLocation);\r\n        setDrop(dropLocation);\r\n        setLoading(true);\r\n        setError(null);\r\n        \r\n        // Calculate bounds to show both markers\r\n        const bounds = L.latLngBounds(\r\n          [pickupLocation.lat, pickupLocation.lng],\r\n          [dropLocation.lat, dropLocation.lng]\r\n        );\r\n        setMapBounds(bounds);\r\n        \r\n        // Fetch the route\r\n        await fetchRoute(\r\n          pickupLocation, \r\n          dropLocation, \r\n          setFare, \r\n          setRouteGeometry, \r\n          setDistance, \r\n          setDuration\r\n        );\r\n        \r\n        setLoading(false);\r\n      }\r\n    };\r\n    \r\n    loadRouteFromProps();\r\n  }, [pickupLocation, dropLocation, setFare]);\r\n\r\n  const resetSelection = () => {\r\n    setPickup(null);\r\n    setDrop(null);\r\n    setRouteGeometry([]);\r\n    setDistance(null);\r\n    setDuration(null);\r\n    setMapBounds(null);\r\n    setError(null);\r\n    setFare(0);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', height: '100%', width: '100%' }}>\r\n      <MapContainer\r\n        center={pickup || [20.5937, 78.9629]}\r\n        zoom={12}\r\n        style={{ height: \"100%\", width: \"100%\" }}\r\n      >\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n        \r\n        {pickup && drop && <ChangeView bounds={mapBounds} />}\r\n        {pickup && !drop && <ChangeView center={[pickup.lat, pickup.lng]} />}\r\n        \r\n        {/* Display the route */}\r\n        {routeGeometry.length > 0 && (\r\n          <Polyline\r\n            positions={routeGeometry}\r\n            color=\"#4CAF50\"\r\n            weight={5}\r\n            opacity={0.7}\r\n          />\r\n        )}\r\n        \r\n        {/* Pickup Marker */}\r\n        {pickup && (\r\n          <Marker position={[pickup.lat, pickup.lng]} icon={greenIcon}>\r\n            <Popup>\r\n              <b>Pickup Location</b>\r\n              <br />\r\n              Lat: {pickup.lat.toFixed(4)}, Lng: {pickup.lng.toFixed(4)}\r\n            </Popup>\r\n          </Marker>\r\n        )}\r\n        \r\n        {/* Drop Marker */}\r\n        {drop && (\r\n          <Marker position={[drop.lat, drop.lng]} icon={redIcon}>\r\n            <Popup>\r\n              <b>Drop Location</b>\r\n              <br />\r\n              Lat: {drop.lat.toFixed(4)}, Lng: {drop.lng.toFixed(4)}\r\n            </Popup>\r\n          </Marker>\r\n        )}\r\n      </MapContainer>\r\n\r\n      {/* Trip Info Panel */}\r\n      {(pickup || drop) && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          top: '10px',\r\n          left: '10px',\r\n          background: 'white',\r\n          padding: '15px',\r\n          borderRadius: '8px',\r\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n          zIndex: 1000,\r\n          minWidth: '250px',\r\n          maxWidth: '300px'\r\n        }}>\r\n          <h4 style={{ margin: '0 0 10px 0', color: '#333' }}>üìç Trip Details</h4>\r\n          \r\n          {pickup && (\r\n            <p style={{ margin: '5px 0', color: '#4CAF50', fontSize: '0.9rem' }}>\r\n              <strong>Pickup:</strong> {pickup.lat.toFixed(4)}, {pickup.lng.toFixed(4)}\r\n            </p>\r\n          )}\r\n          \r\n          {drop && (\r\n            <p style={{ margin: '5px 0', color: '#f44336', fontSize: '0.9rem' }}>\r\n              <strong>Drop:</strong> {drop.lat.toFixed(4)}, {drop.lng.toFixed(4)}\r\n            </p>\r\n          )}\r\n          \r\n          {loading && (\r\n            <p style={{ margin: '10px 0', color: '#666' }}>\r\n              üó∫Ô∏è Calculating best route...\r\n            </p>\r\n          )}\r\n          \r\n          {error && (\r\n            <p style={{ margin: '10px 0', color: '#f44336' }}>\r\n              ‚ö†Ô∏è {error}\r\n            </p>\r\n          )}\r\n          \r\n          {distance && !loading && (\r\n            <>\r\n              <hr style={{ margin: '10px 0' }} />\r\n              <p style={{ margin: '5px 0' }}>\r\n                <strong>üìè Distance:</strong> {distance.toFixed(2)} km\r\n              </p>\r\n              <p style={{ margin: '5px 0' }}>\r\n                <strong>‚è±Ô∏è Duration:</strong> {duration} mins\r\n              </p>\r\n              <p style={{ \r\n                margin: '10px 0 0 0', \r\n                fontSize: '1.3rem', \r\n                color: '#4CAF50',\r\n                fontWeight: 'bold'\r\n              }}>\r\n                ‚Çπ{Math.round(distance * 10)}\r\n              </p>\r\n              {routeGeometry.length === 2 && (\r\n                <p style={{ margin: '5px 0', fontSize: '0.8rem', color: '#999' }}>\r\n                  *Straight line estimate (road route unavailable)\r\n                </p>\r\n              )}\r\n            </>\r\n          )}\r\n          \r\n          {(pickup || drop) && (\r\n            <button \r\n              onClick={resetSelection}\r\n              style={{\r\n                marginTop: '15px',\r\n                padding: '8px',\r\n                background: '#f44336',\r\n                color: 'white',\r\n                border: 'none',\r\n                borderRadius: '4px',\r\n                cursor: 'pointer',\r\n                width: '100%',\r\n                fontWeight: '500'\r\n              }}\r\n            >\r\n              \r\n            </button>\r\n          )}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FreeMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sejal\\\\OneDrive\\\\Desktop\\\\ride\\\\frontend\\\\src\\\\components\\\\Map.jsx\",\n  _s = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, useMapEvents, useMap } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport \"leaflet-routing-machine\";\n\n// marker fix\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\n  iconUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\n  shadowUrl: \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\"\n});\nfunction Routing({\n  pickup,\n  drop,\n  setDistance,\n  setFare\n}) {\n  _s();\n  const map = useMap();\n  useEffect(() => {\n    if (!pickup || !drop) return;\n    const routingControl = L.Routing.control({\n      waypoints: [L.latLng(pickup[0], pickup[1]), L.latLng(drop[0], drop[1])],\n      addWaypoints: false,\n      draggableWaypoints: false,\n      createMarker: () => null\n    }).addTo(map);\n    routingControl.on(\"routesfound\", function (e) {\n      const distanceKm = e.routes[0].summary.totalDistance / 1000;\n      setDistance(distanceKm.toFixed(2));\n      const price = distanceKm * 10;\n      setFare(price.toFixed(0));\n    });\n    return () => map.removeControl(routingControl);\n  }, [pickup, drop]);\n  return null;\n}\n_s(Routing, \"IoceErwr5KVGS9kN4RQ1bOkYMAg=\", false, function () {\n  return [useMap];\n});\n_c = Routing;\nfunction Map() {\n  _s3();\n  var _s2 = $RefreshSig$();\n  const [pickup, setPickup] = useState(null);\n  const [drop, setDrop] = useState(null);\n  const [distance, setDistance] = useState(0);\n  const [fare, setFare] = useState(0);\n  function ClickHandler() {\n    _s2();\n    useMapEvents({\n      click(e) {\n        if (!pickup) setPickup([e.latlng.lat, e.latlng.lng]);else if (!drop) setDrop([e.latlng.lat, e.latlng.lng]);\n      }\n    });\n    return null;\n  }\n  _s2(ClickHandler, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n    return [useMapEvents];\n  });\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: [28.6139, 77.2090],\n      zoom: 13,\n      style: {\n        height: \"500px\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 127,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ClickHandler, {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 131,\n        columnNumber: 9\n      }, this), pickup && /*#__PURE__*/_jsxDEV(Marker, {\n        position: pickup\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 133,\n        columnNumber: 20\n      }, this), drop && /*#__PURE__*/_jsxDEV(Marker, {\n        position: drop\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 135,\n        columnNumber: 18\n      }, this), /*#__PURE__*/_jsxDEV(Routing, {\n        pickup: pickup,\n        drop: drop,\n        setDistance: setDistance,\n        setFare: setFare\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 137,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }, this), distance > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        padding: \"10px\",\n        background: \"black\",\n        color: \"white\"\n      },\n      children: [\"Distance: \", distance, \" km\", /*#__PURE__*/_jsxDEV(\"br\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 11\n      }, this), \"Fare: \\u20B9\", fare]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 152,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 119,\n    columnNumber: 5\n  }, this);\n}\n_s3(Map, \"kFN4So8MvsIFPXvwiGWytOuW46s=\");\n_c2 = Map;\nexport default Map;\nvar _c, _c2;\n$RefreshReg$(_c, \"Routing\");\n$RefreshReg$(_c2, \"Map\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","useMapEvents","useMap","L","jsxDEV","_jsxDEV","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","Routing","pickup","drop","setDistance","setFare","_s","map","routingControl","control","waypoints","latLng","addWaypoints","draggableWaypoints","createMarker","addTo","on","e","distanceKm","routes","summary","totalDistance","toFixed","price","removeControl","_c","Map","_s3","_s2","$RefreshSig$","setPickup","setDrop","distance","fare","ClickHandler","click","latlng","lat","lng","children","center","zoom","style","height","url","fileName","_jsxFileName","lineNumber","columnNumber","position","padding","background","color","_c2","$RefreshReg$"],"sources":["C:/Users/sejal/OneDrive/Desktop/ride/frontend/src/components/Map.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport {\r\n  MapContainer,\r\n  TileLayer,\r\n  Marker,\r\n  useMapEvents,\r\n  useMap\r\n} from \"react-leaflet\";\r\n\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport \"leaflet-routing-machine\";\r\n\r\n\r\n// marker fix\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\n\r\nL.Icon.Default.mergeOptions({\r\n\r\n  iconRetinaUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon-2x.png\",\r\n\r\n  iconUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-icon.png\",\r\n\r\n  shadowUrl:\r\n    \"https://unpkg.com/leaflet@1.9.4/dist/images/marker-shadow.png\",\r\n\r\n});\r\n\r\n\r\n\r\nfunction Routing({ pickup, drop, setDistance, setFare }) {\r\n\r\n  const map = useMap();\r\n\r\n  useEffect(() => {\r\n\r\n    if (!pickup || !drop) return;\r\n\r\n    const routingControl = L.Routing.control({\r\n\r\n      waypoints: [\r\n        L.latLng(pickup[0], pickup[1]),\r\n        L.latLng(drop[0], drop[1])\r\n      ],\r\n\r\n      addWaypoints: false,\r\n      draggableWaypoints: false,\r\n      createMarker: () => null\r\n\r\n    }).addTo(map);\r\n\r\n\r\n\r\n    routingControl.on(\"routesfound\", function (e) {\r\n\r\n      const distanceKm =\r\n        e.routes[0].summary.totalDistance / 1000;\r\n\r\n      setDistance(distanceKm.toFixed(2));\r\n\r\n      const price = distanceKm * 10;\r\n\r\n      setFare(price.toFixed(0));\r\n\r\n    });\r\n\r\n\r\n\r\n    return () => map.removeControl(routingControl);\r\n\r\n  }, [pickup, drop]);\r\n\r\n\r\n\r\n  return null;\r\n}\r\n\r\n\r\n\r\nfunction Map() {\r\n\r\n  const [pickup, setPickup] = useState(null);\r\n\r\n  const [drop, setDrop] = useState(null);\r\n\r\n  const [distance, setDistance] = useState(0);\r\n\r\n  const [fare, setFare] = useState(0);\r\n\r\n\r\n\r\n  function ClickHandler() {\r\n\r\n    useMapEvents({\r\n\r\n      click(e) {\r\n\r\n        if (!pickup)\r\n\r\n          setPickup([e.latlng.lat, e.latlng.lng]);\r\n\r\n        else if (!drop)\r\n\r\n          setDrop([e.latlng.lat, e.latlng.lng]);\r\n\r\n      }\r\n\r\n    });\r\n\r\n    return null;\r\n  }\r\n\r\n\r\n\r\n  return (\r\n\r\n    <div>\r\n\r\n      <MapContainer\r\n        center={[28.6139, 77.2090]}\r\n        zoom={13}\r\n        style={{ height: \"500px\" }}\r\n      >\r\n\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n        />\r\n\r\n        <ClickHandler />\r\n\r\n        {pickup && <Marker position={pickup} />}\r\n\r\n        {drop && <Marker position={drop} />}\r\n\r\n        <Routing\r\n          pickup={pickup}\r\n          drop={drop}\r\n          setDistance={setDistance}\r\n          setFare={setFare}\r\n        />\r\n\r\n      </MapContainer>\r\n\r\n\r\n\r\n      {/* SHOW DISTANCE AND FARE */}\r\n\r\n      {distance > 0 && (\r\n\r\n        <div style={{\r\n\r\n          padding: \"10px\",\r\n          background: \"black\",\r\n          color: \"white\"\r\n\r\n        }}>\r\n\r\n          Distance: {distance} km\r\n\r\n          <br />\r\n\r\n          Fare: â‚¹{fare}\r\n\r\n        </div>\r\n\r\n      )}\r\n\r\n    </div>\r\n\r\n  );\r\n\r\n}\r\n\r\nexport default Map;\r\n"],"mappings":";;;AAAA,OAAOA,KAAK,IAAIC,QAAQ,EAAEC,SAAS,QAAQ,OAAO;AAClD,SACEC,YAAY,EACZC,SAAS,EACTC,MAAM,EACNC,YAAY,EACZC,MAAM,QACD,eAAe;AAEtB,OAAOC,CAAC,MAAM,SAAS;AACvB,OAAO,0BAA0B;AACjC,OAAO,yBAAyB;;AAGhC;AAAA,SAAAC,MAAA,IAAAC,OAAA;AACA,OAAOF,CAAC,CAACG,IAAI,CAACC,OAAO,CAACC,SAAS,CAACC,WAAW;AAE3CN,CAAC,CAACG,IAAI,CAACC,OAAO,CAACG,YAAY,CAAC;EAE1BC,aAAa,EACX,gEAAgE;EAElEC,OAAO,EACL,6DAA6D;EAE/DC,SAAS,EACP;AAEJ,CAAC,CAAC;AAIF,SAASC,OAAOA,CAAC;EAAEC,MAAM;EAAEC,IAAI;EAAEC,WAAW;EAAEC;AAAQ,CAAC,EAAE;EAAAC,EAAA;EAEvD,MAAMC,GAAG,GAAGlB,MAAM,CAAC,CAAC;EAEpBL,SAAS,CAAC,MAAM;IAEd,IAAI,CAACkB,MAAM,IAAI,CAACC,IAAI,EAAE;IAEtB,MAAMK,cAAc,GAAGlB,CAAC,CAACW,OAAO,CAACQ,OAAO,CAAC;MAEvCC,SAAS,EAAE,CACTpB,CAAC,CAACqB,MAAM,CAACT,MAAM,CAAC,CAAC,CAAC,EAAEA,MAAM,CAAC,CAAC,CAAC,CAAC,EAC9BZ,CAAC,CAACqB,MAAM,CAACR,IAAI,CAAC,CAAC,CAAC,EAAEA,IAAI,CAAC,CAAC,CAAC,CAAC,CAC3B;MAEDS,YAAY,EAAE,KAAK;MACnBC,kBAAkB,EAAE,KAAK;MACzBC,YAAY,EAAEA,CAAA,KAAM;IAEtB,CAAC,CAAC,CAACC,KAAK,CAACR,GAAG,CAAC;IAIbC,cAAc,CAACQ,EAAE,CAAC,aAAa,EAAE,UAAUC,CAAC,EAAE;MAE5C,MAAMC,UAAU,GACdD,CAAC,CAACE,MAAM,CAAC,CAAC,CAAC,CAACC,OAAO,CAACC,aAAa,GAAG,IAAI;MAE1CjB,WAAW,CAACc,UAAU,CAACI,OAAO,CAAC,CAAC,CAAC,CAAC;MAElC,MAAMC,KAAK,GAAGL,UAAU,GAAG,EAAE;MAE7Bb,OAAO,CAACkB,KAAK,CAACD,OAAO,CAAC,CAAC,CAAC,CAAC;IAE3B,CAAC,CAAC;IAIF,OAAO,MAAMf,GAAG,CAACiB,aAAa,CAAChB,cAAc,CAAC;EAEhD,CAAC,EAAE,CAACN,MAAM,EAAEC,IAAI,CAAC,CAAC;EAIlB,OAAO,IAAI;AACb;AAACG,EAAA,CA7CQL,OAAO;EAAA,QAEFZ,MAAM;AAAA;AAAAoC,EAAA,GAFXxB,OAAO;AAiDhB,SAASyB,GAAGA,CAAA,EAAG;EAAAC,GAAA;EAAA,IAAAC,GAAA,GAAAC,YAAA;EAEb,MAAM,CAAC3B,MAAM,EAAE4B,SAAS,CAAC,GAAG/C,QAAQ,CAAC,IAAI,CAAC;EAE1C,MAAM,CAACoB,IAAI,EAAE4B,OAAO,CAAC,GAAGhD,QAAQ,CAAC,IAAI,CAAC;EAEtC,MAAM,CAACiD,QAAQ,EAAE5B,WAAW,CAAC,GAAGrB,QAAQ,CAAC,CAAC,CAAC;EAE3C,MAAM,CAACkD,IAAI,EAAE5B,OAAO,CAAC,GAAGtB,QAAQ,CAAC,CAAC,CAAC;EAInC,SAASmD,YAAYA,CAAA,EAAG;IAAAN,GAAA;IAEtBxC,YAAY,CAAC;MAEX+C,KAAKA,CAAClB,CAAC,EAAE;QAEP,IAAI,CAACf,MAAM,EAET4B,SAAS,CAAC,CAACb,CAAC,CAACmB,MAAM,CAACC,GAAG,EAAEpB,CAAC,CAACmB,MAAM,CAACE,GAAG,CAAC,CAAC,CAAC,KAErC,IAAI,CAACnC,IAAI,EAEZ4B,OAAO,CAAC,CAACd,CAAC,CAACmB,MAAM,CAACC,GAAG,EAAEpB,CAAC,CAACmB,MAAM,CAACE,GAAG,CAAC,CAAC;MAEzC;IAEF,CAAC,CAAC;IAEF,OAAO,IAAI;EACb;EAACV,GAAA,CAnBQM,YAAY;IAAA,QAEnB9C,YAAY;EAAA;EAqBd,oBAEEI,OAAA;IAAA+C,QAAA,gBAEE/C,OAAA,CAACP,YAAY;MACXuD,MAAM,EAAE,CAAC,OAAO,EAAE,OAAO,CAAE;MAC3BC,IAAI,EAAE,EAAG;MACTC,KAAK,EAAE;QAAEC,MAAM,EAAE;MAAQ,CAAE;MAAAJ,QAAA,gBAG3B/C,OAAA,CAACN,SAAS;QACR0D,GAAG,EAAC;MAAoD;QAAAC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OACzD,CAAC,eAEFxD,OAAA,CAAC0C,YAAY;QAAAW,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAEf9C,MAAM,iBAAIV,OAAA,CAACL,MAAM;QAAC8D,QAAQ,EAAE/C;MAAO;QAAA2C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,EAEtC7C,IAAI,iBAAIX,OAAA,CAACL,MAAM;QAAC8D,QAAQ,EAAE9C;MAAK;QAAA0C,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAE,CAAC,eAEnCxD,OAAA,CAACS,OAAO;QACNC,MAAM,EAAEA,MAAO;QACfC,IAAI,EAAEA,IAAK;QACXC,WAAW,EAAEA,WAAY;QACzBC,OAAO,EAAEA;MAAQ;QAAAwC,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAClB,CAAC;IAAA;MAAAH,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAEU,CAAC,EAMdhB,QAAQ,GAAG,CAAC,iBAEXxC,OAAA;MAAKkD,KAAK,EAAE;QAEVQ,OAAO,EAAE,MAAM;QACfC,UAAU,EAAE,OAAO;QACnBC,KAAK,EAAE;MAET,CAAE;MAAAb,QAAA,GAAC,YAES,EAACP,QAAQ,EAAC,KAEpB,eAAAxC,OAAA;QAAAqD,QAAA,EAAAC,YAAA;QAAAC,UAAA;QAAAC,YAAA;MAAA,OAAK,CAAC,gBAEC,EAACf,IAAI;IAAA;MAAAY,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAET,CAEN;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OAEE,CAAC;AAIV;AAACrB,GAAA,CA5FQD,GAAG;AAAA2B,GAAA,GAAH3B,GAAG;AA8FZ,eAAeA,GAAG;AAAC,IAAAD,EAAA,EAAA4B,GAAA;AAAAC,YAAA,CAAA7B,EAAA;AAAA6B,YAAA,CAAAD,GAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}
{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\sejal\\\\OneDrive\\\\Desktop\\\\ride\\\\frontend\\\\src\\\\components\\\\FreeMap.jsx\",\n  _s = $RefreshSig$(),\n  _s2 = $RefreshSig$(),\n  _s3 = $RefreshSig$();\nimport React, { useState, useEffect } from \"react\";\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents, Polyline } from \"react-leaflet\";\nimport L from \"leaflet\";\nimport \"leaflet/dist/leaflet.css\";\nimport { useMap } from \"react-leaflet\";\nimport { jsxDEV as _jsxDEV, Fragment as _Fragment } from \"react/jsx-dev-runtime\";\nfunction ChangeView({\n  center\n}) {\n  _s();\n  const map = useMap();\n  map.setView(center, 13);\n  return null;\n}\n\n// Fix for default markers in React-Leaflet\n_s(ChangeView, \"cX187cvZ2hODbkaiLn05gMk1sCM=\", false, function () {\n  return [useMap];\n});\n_c = ChangeView;\ndelete L.Icon.Default.prototype._getIconUrl;\nL.Icon.Default.mergeOptions({\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\"\n});\n\n// Custom marker icons\nconst greenIcon = new L.Icon({\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\nconst redIcon = new L.Icon({\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png\",\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\n  iconSize: [25, 41],\n  iconAnchor: [12, 41],\n  popupAnchor: [1, -34],\n  shadowSize: [41, 41]\n});\n\n// Function to fetch route from OSRM\nasync function fetchRoute(start, end, setFare, setRouteGeometry) {\n  try {\n    console.log(\"Fetching route from:\", start, \"to:\", end);\n\n    // OSRM expects coordinates as [lng, lat]\n    const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\n    const response = await fetch(url);\n    const data = await response.json();\n    console.log(\"Route data:\", data);\n    if (data.routes && data.routes.length > 0) {\n      const route = data.routes[0];\n      const distanceInKm = route.distance / 1000; // Convert meters to km\n      const fare = Math.round(distanceInKm * 10); // ‚Çπ10 per km\n\n      console.log(\"Distance:\", distanceInKm, \"km, Fare:\", fare);\n      setFare(fare);\n\n      // Convert coordinates from [lng, lat] to [lat, lng] for Leaflet\n      const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\n      setRouteGeometry(coordinates);\n    } else {\n      console.error(\"No route found\");\n    }\n  } catch (error) {\n    console.error(\"Error fetching route:\", error);\n  }\n}\n\n// Component to handle map clicks\nfunction LocationMarker({\n  pickup,\n  setPickup,\n  drop,\n  setDrop,\n  setFare,\n  setRouteGeometry\n}) {\n  _s2();\n  useMapEvents({\n    click(e) {\n      const {\n        lat,\n        lng\n      } = e.latlng;\n      if (!pickup) {\n        // First click: set pickup\n        console.log(\"Pickup set:\", {\n          lat,\n          lng\n        });\n        setPickup({\n          lat,\n          lng\n        });\n      } else if (!drop) {\n        // Second click: set drop and fetch route\n        console.log(\"Drop set:\", {\n          lat,\n          lng\n        });\n        setDrop({\n          lat,\n          lng\n        });\n\n        // Fetch the route\n        fetchRoute(pickup, {\n          lat,\n          lng\n        }, setFare, setRouteGeometry);\n      }\n    }\n  });\n  return /*#__PURE__*/_jsxDEV(_Fragment, {\n    children: [pickup && /*#__PURE__*/_jsxDEV(Marker, {\n      position: [pickup.lat, pickup.lng],\n      icon: greenIcon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: \"Pickup Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 98,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 9\n    }, this), drop && /*#__PURE__*/_jsxDEV(Marker, {\n      position: [drop.lat, drop.lng],\n      icon: redIcon,\n      children: /*#__PURE__*/_jsxDEV(Popup, {\n        children: \"Drop Location\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 103,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true);\n}\n_s2(LocationMarker, \"Ld/tk8Iz8AdZhC1l7acENaOEoCo=\", false, function () {\n  return [useMapEvents];\n});\n_c2 = LocationMarker;\nfunction FreeMap({\n  setFare,\n  pickupLocation,\n  dropLocation\n}) {\n  _s3();\n  const [pickup, setPickup] = useState(null);\n  const [drop, setDrop] = useState(null);\n  const [routeGeometry, setRouteGeometry] = useState([]);\n\n  // Handle when locations are passed from Home component\n  useEffect(() => {\n    const loadRouteFromProps = async () => {\n      if (pickupLocation && dropLocation) {\n        console.log(\"Loading from props:\", pickupLocation, dropLocation);\n        setPickup(pickupLocation);\n        setDrop(dropLocation);\n\n        // Fetch the route\n        await fetchRoute(pickupLocation, dropLocation, setFare, setRouteGeometry);\n      }\n    };\n    loadRouteFromProps();\n  }, [pickupLocation, dropLocation, setFare]);\n  const resetSelection = () => {\n    setPickup(null);\n    setDrop(null);\n    setRouteGeometry([]);\n    setFare(0);\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    style: {\n      position: 'relative',\n      height: '500px',\n      width: '100%'\n    },\n    children: [/*#__PURE__*/_jsxDEV(MapContainer, {\n      center: pickup ? [pickup.lat, pickup.lng] : [20.5937, 78.9629],\n      zoom: 12,\n      style: {\n        height: \"500px\",\n        width: \"100%\"\n      },\n      children: [/*#__PURE__*/_jsxDEV(TileLayer, {\n        url: \"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\",\n        attribution: \"\\xA9 <a href=\\\"https://www.openstreetmap.org/copyright\\\">OpenStreetMap</a> contributors\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 148,\n        columnNumber: 9\n      }, this), pickup && /*#__PURE__*/_jsxDEV(ChangeView, {\n        center: [pickup.lat, pickup.lng]\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 153,\n        columnNumber: 20\n      }, this), routeGeometry.length > 0 && /*#__PURE__*/_jsxDEV(Polyline, {\n        positions: routeGeometry,\n        color: \"blue\",\n        weight: 4,\n        opacity: 0.7\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 11\n      }, this), /*#__PURE__*/_jsxDEV(LocationMarker, {\n        pickup: pickup,\n        setPickup: setPickup,\n        drop: drop,\n        setDrop: setDrop,\n        setFare: setFare,\n        setRouteGeometry: setRouteGeometry\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this)]\n    }, pickup ? `${pickup.lat}-${pickup.lng}` : \"default\", true, {\n      fileName: _jsxFileName,\n      lineNumber: 141,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        top: '10px',\n        left: '10px',\n        background: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        zIndex: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"h4\", {\n        style: {\n          margin: '0 0 10px 0'\n        },\n        children: \"\\uD83D\\uDCCD Select Locations\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#4CAF50'\n          },\n          children: \"\\u25CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 188,\n          columnNumber: 11\n        }, this), \" Click once for Pickup\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n        style: {\n          margin: '5px 0'\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          style: {\n            color: '#f44336'\n          },\n          children: \"\\u25CF\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 191,\n          columnNumber: 11\n        }, this), \" Click again for Drop\"]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 190,\n        columnNumber: 9\n      }, this), (pickup || drop) && /*#__PURE__*/_jsxDEV(\"button\", {\n        onClick: resetSelection,\n        style: {\n          marginTop: '10px',\n          padding: '5px 10px',\n          background: '#f44336',\n          color: 'white',\n          border: 'none',\n          borderRadius: '4px',\n          cursor: 'pointer'\n        },\n        children: \"Reset\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 176,\n      columnNumber: 7\n    }, this), pickup && /*#__PURE__*/_jsxDEV(\"div\", {\n      style: {\n        position: 'absolute',\n        bottom: '20px',\n        left: '20px',\n        background: 'white',\n        padding: '15px',\n        borderRadius: '8px',\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\n        zIndex: 1000\n      },\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\u2705 Pickup selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 223,\n        columnNumber: 11\n      }, this), drop && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uD83D\\uDCCD Drop selected\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 224,\n        columnNumber: 20\n      }, this), routeGeometry.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        children: \"\\uD83D\\uDEE3\\uFE0F Route displayed in blue\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 225,\n        columnNumber: 40\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 140,\n    columnNumber: 5\n  }, this);\n}\n_s3(FreeMap, \"i6kXvwV46tMzIjV2X/7k0CfNI0s=\");\n_c3 = FreeMap;\nexport default FreeMap;\nvar _c, _c2, _c3;\n$RefreshReg$(_c, \"ChangeView\");\n$RefreshReg$(_c2, \"LocationMarker\");\n$RefreshReg$(_c3, \"FreeMap\");","map":{"version":3,"names":["React","useState","useEffect","MapContainer","TileLayer","Marker","Popup","useMapEvents","Polyline","L","useMap","jsxDEV","_jsxDEV","Fragment","_Fragment","ChangeView","center","_s","map","setView","_c","Icon","Default","prototype","_getIconUrl","mergeOptions","iconRetinaUrl","iconUrl","shadowUrl","greenIcon","iconSize","iconAnchor","popupAnchor","shadowSize","redIcon","fetchRoute","start","end","setFare","setRouteGeometry","console","log","url","lng","lat","response","fetch","data","json","routes","length","route","distanceInKm","distance","fare","Math","round","coordinates","geometry","coord","error","LocationMarker","pickup","setPickup","drop","setDrop","_s2","click","e","latlng","children","position","icon","fileName","_jsxFileName","lineNumber","columnNumber","_c2","FreeMap","pickupLocation","dropLocation","_s3","routeGeometry","loadRouteFromProps","resetSelection","style","height","width","zoom","attribution","positions","color","weight","opacity","top","left","background","padding","borderRadius","boxShadow","zIndex","margin","onClick","marginTop","border","cursor","bottom","_c3","$RefreshReg$"],"sources":["C:/Users/sejal/OneDrive/Desktop/ride/frontend/src/components/FreeMap.jsx"],"sourcesContent":["import React, { useState, useEffect } from \"react\";\r\nimport { MapContainer, TileLayer, Marker, Popup, useMapEvents, Polyline } from \"react-leaflet\";\r\nimport L from \"leaflet\";\r\nimport \"leaflet/dist/leaflet.css\";\r\nimport { useMap } from \"react-leaflet\";\r\n\r\nfunction ChangeView({ center }) {\r\n  const map = useMap();\r\n  map.setView(center, 13);\r\n  return null;\r\n}\r\n\r\n// Fix for default markers in React-Leaflet\r\ndelete L.Icon.Default.prototype._getIconUrl;\r\nL.Icon.Default.mergeOptions({\r\n  iconRetinaUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png\",\r\n  iconUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n});\r\n\r\n// Custom marker icons\r\nconst greenIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-green.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\nconst redIcon = new L.Icon({\r\n  iconUrl: \"https://raw.githubusercontent.com/pointhi/leaflet-color-markers/master/img/marker-icon-2x-red.png\",\r\n  shadowUrl: \"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png\",\r\n  iconSize: [25, 41],\r\n  iconAnchor: [12, 41],\r\n  popupAnchor: [1, -34],\r\n  shadowSize: [41, 41]\r\n});\r\n\r\n// Function to fetch route from OSRM\r\nasync function fetchRoute(start, end, setFare, setRouteGeometry) {\r\n  try {\r\n    console.log(\"Fetching route from:\", start, \"to:\", end);\r\n    \r\n    // OSRM expects coordinates as [lng, lat]\r\n    const url = `https://router.project-osrm.org/route/v1/driving/${start.lng},${start.lat};${end.lng},${end.lat}?overview=full&geometries=geojson`;\r\n    \r\n    const response = await fetch(url);\r\n    const data = await response.json();\r\n    \r\n    console.log(\"Route data:\", data);\r\n    \r\n    if (data.routes && data.routes.length > 0) {\r\n      const route = data.routes[0];\r\n      const distanceInKm = route.distance / 1000; // Convert meters to km\r\n      const fare = Math.round(distanceInKm * 10); // ‚Çπ10 per km\r\n      \r\n      console.log(\"Distance:\", distanceInKm, \"km, Fare:\", fare);\r\n      \r\n      setFare(fare);\r\n      \r\n      // Convert coordinates from [lng, lat] to [lat, lng] for Leaflet\r\n      const coordinates = route.geometry.coordinates.map(coord => [coord[1], coord[0]]);\r\n      setRouteGeometry(coordinates);\r\n    } else {\r\n      console.error(\"No route found\");\r\n    }\r\n  } catch (error) {\r\n    console.error(\"Error fetching route:\", error);\r\n  }\r\n}\r\n\r\n// Component to handle map clicks\r\nfunction LocationMarker({ pickup, setPickup, drop, setDrop, setFare, setRouteGeometry }) {\r\n  useMapEvents({\r\n    click(e) {\r\n      const { lat, lng } = e.latlng;\r\n      \r\n      if (!pickup) {\r\n        // First click: set pickup\r\n        console.log(\"Pickup set:\", { lat, lng });\r\n        setPickup({ lat, lng });\r\n      } else if (!drop) {\r\n        // Second click: set drop and fetch route\r\n        console.log(\"Drop set:\", { lat, lng });\r\n        setDrop({ lat, lng });\r\n        \r\n        // Fetch the route\r\n        fetchRoute(pickup, { lat, lng }, setFare, setRouteGeometry);\r\n      }\r\n    },\r\n  });\r\n\r\n  return (\r\n    <>\r\n      {pickup && (\r\n        <Marker position={[pickup.lat, pickup.lng]} icon={greenIcon}>\r\n          <Popup>Pickup Location</Popup>\r\n        </Marker>\r\n      )}\r\n      {drop && (\r\n        <Marker position={[drop.lat, drop.lng]} icon={redIcon}>\r\n          <Popup>Drop Location</Popup>\r\n        </Marker>\r\n      )}\r\n    </>\r\n  );\r\n}\r\n\r\nfunction FreeMap({ setFare, pickupLocation, dropLocation }) {\r\n  const [pickup, setPickup] = useState(null);\r\n  const [drop, setDrop] = useState(null);\r\n  const [routeGeometry, setRouteGeometry] = useState([]);\r\n\r\n  // Handle when locations are passed from Home component\r\n  useEffect(() => {\r\n    const loadRouteFromProps = async () => {\r\n      if (pickupLocation && dropLocation) {\r\n        console.log(\"Loading from props:\", pickupLocation, dropLocation);\r\n        \r\n        setPickup(pickupLocation);\r\n        setDrop(dropLocation);\r\n        \r\n        // Fetch the route\r\n        await fetchRoute(pickupLocation, dropLocation, setFare, setRouteGeometry);\r\n      }\r\n    };\r\n    \r\n    loadRouteFromProps();\r\n  }, [pickupLocation, dropLocation, setFare]);\r\n\r\n  const resetSelection = () => {\r\n    setPickup(null);\r\n    setDrop(null);\r\n    setRouteGeometry([]);\r\n    setFare(0);\r\n  };\r\n\r\n  return (\r\n    <div style={{ position: 'relative', height: '500px', width: '100%' }}>\r\n      <MapContainer\r\n        key={pickup ? `${pickup.lat}-${pickup.lng}` : \"default\"}\r\n        center={pickup ? [pickup.lat, pickup.lng] : [20.5937, 78.9629]}\r\n        zoom={12}\r\n        style={{ height: \"500px\", width: \"100%\" }}\r\n      >\r\n        {/* OpenStreetMap tiles */}\r\n        <TileLayer\r\n          url=\"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png\"\r\n          attribution='&copy; <a href=\"https://www.openstreetmap.org/copyright\">OpenStreetMap</a> contributors'\r\n        />\r\n        \r\n        {pickup && <ChangeView center={[pickup.lat, pickup.lng]} />}\r\n        \r\n        {/* Display the route */}\r\n        {routeGeometry.length > 0 && (\r\n          <Polyline\r\n            positions={routeGeometry}\r\n            color=\"blue\"\r\n            weight={4}\r\n            opacity={0.7}\r\n          />\r\n        )}\r\n        \r\n        <LocationMarker \r\n          pickup={pickup}\r\n          setPickup={setPickup}\r\n          drop={drop}\r\n          setDrop={setDrop}\r\n          setFare={setFare}\r\n          setRouteGeometry={setRouteGeometry}\r\n        />\r\n      </MapContainer>\r\n\r\n      {/* Instructions Panel */}\r\n      <div style={{\r\n        position: 'absolute',\r\n        top: '10px',\r\n        left: '10px',\r\n        background: 'white',\r\n        padding: '15px',\r\n        borderRadius: '8px',\r\n        boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n        zIndex: 1000\r\n      }}>\r\n        <h4 style={{ margin: '0 0 10px 0' }}>üìç Select Locations</h4>\r\n        <p style={{ margin: '5px 0' }}>\r\n          <span style={{ color: '#4CAF50' }}>‚óè</span> Click once for Pickup\r\n        </p>\r\n        <p style={{ margin: '5px 0' }}>\r\n          <span style={{ color: '#f44336' }}>‚óè</span> Click again for Drop\r\n        </p>\r\n        {(pickup || drop) && (\r\n          <button \r\n            onClick={resetSelection}\r\n            style={{\r\n              marginTop: '10px',\r\n              padding: '5px 10px',\r\n              background: '#f44336',\r\n              color: 'white',\r\n              border: 'none',\r\n              borderRadius: '4px',\r\n              cursor: 'pointer'\r\n            }}\r\n          >\r\n            Reset\r\n          </button>\r\n        )}\r\n      </div>\r\n\r\n      {/* Location Info */}\r\n      {pickup && (\r\n        <div style={{\r\n          position: 'absolute',\r\n          bottom: '20px',\r\n          left: '20px',\r\n          background: 'white',\r\n          padding: '15px',\r\n          borderRadius: '8px',\r\n          boxShadow: '0 2px 10px rgba(0,0,0,0.1)',\r\n          zIndex: 1000\r\n        }}>\r\n          <div>‚úÖ Pickup selected</div>\r\n          {drop && <div>üìç Drop selected</div>}\r\n          {routeGeometry.length > 0 && <div>üõ£Ô∏è Route displayed in blue</div>}\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default FreeMap;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}